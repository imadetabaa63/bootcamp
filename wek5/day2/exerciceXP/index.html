
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Exercices API Fetch & Async JS</title>
</head>
<body>
  <h1>üåê Exercices sur API Fetch, Promesses et Async/Await</h1>
  <p>Ouvrez la console (F12) pour voir les r√©sultats.</p>

  <script>
    // Exercice 1 : 
    fetch("https://api.giphy.com/v1/gifs/search?q=hilarious&rating=g&api_key=hpvZycW22qCjn5cRM1xtWB8NKq4dQ2My")
      .then(response => {
        if (!response.ok) {
          throw new Error("Erreur lors de la requ√™te");
        }
        return response.json();
      })
      .then(data => {
        console.log("Exercice 1 - Donn√©es re√ßues :", data);
      })
      .catch(error => {
        console.error(" Exercice 1 - Erreur :", error.message);
      });

    //  Exercice 2 : 
    const url2 = "https://api.giphy.com/v1/gifs/search?q=soleil&limit=10&offset=2&rating=g&api_key=hpvZycW22qCjn5cRM1xtWB8NKq4dQ2My";

    fetch(url2)
      .then(response => {
        if (!response.ok) {
          throw new Error("Erreur dans la r√©cup√©ration des GIFs");
        }
        return response.json();
      })
      .then(data => {
        console.log("Exercice 2 - GIFs Soleil (offset 2):", data);
      })
      .catch(error => {
        console.error(" Exercice 2 - Erreur:", error.message);
      });

    //  Exercice 3 : 
    async function getStarship() {
      try {
        const response = await fetch("https://www.swapi.tech/api/starships/9/");
        if (!response.ok) {
          throw new Error("Erreur lors de la r√©cup√©ration du vaisseau");
        }
        const data = await response.json();
        console.log(" Exercice 3 - Starship Result:", data.result);
      } catch (error) {
        console.error(" Exercice 3 - Erreur:", error.message);
      }
    }
    getStarship();

    //  Exercice 4 : 
    function resolveAfter2Seconds() {
      return new Promise(resolve => {
        setTimeout(() => {
          resolve('resolved');
        }, 2000);
      });
    }

    async function asyncCall() {
      console.log("Exercice 4 - calling");
      let result = await resolveAfter2Seconds();
      console.log("Exercice 4 -", result);
    }
    asyncCall();
  </script>
</body>
</html>
